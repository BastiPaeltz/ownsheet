"use strict";function removeFromScope(e,t){var o=e.sheets.indexOf(t);e.sheets.splice(o,1)}var ownsheetApp=angular.module("ownsheetApp");ownsheetApp.controller("popupController",["$scope","$window","chromeStorageService",function(e,t,o){o.getFromStorage(null).then(function(t){"Error"===t?e.message="Storage error. Please open ownsheet again. If this problem persists, consider contacting the developer.":0===Object.getOwnPropertyNames(t).length?e.message="No sheets added yet.":(e.sheets=[],Object.keys(t).forEach(function(t){e.sheets.push(t)}))}),this.newSheet=function(){t.open("main.html#/edit")},this.editSheet=function(e){t.open("main.html#/edit/"+e)},this.removeSheet=function(n){var s=t.confirm("Do you really want to do delete this sheet?");s&&(o.removeFromStorage(n),removeFromScope(e,n),0===e.sheets.length&&(e.message="No sheets added yet."))},this.goToSheet=function(e){t.open("main.html#/view/"+e)},this.goToGeneral=function(){t.open("main.html#/general")}}]);